<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Virginia Ordoño Bernier">
    <meta name="reference" content="Jonathan Rodríguez, JavaScript Intermedio-DOM, OpenWebinars">
    <meta name="objective" content="Escribir una tarea y con un botón añadirla a la lista">
    <title>Task Addition Button</title>
</head>

<body>
    <p>Insertar un nodo en el DOM</p>

    <input type='text' id='todoTitle'></input>

    <!--Creamos un botón para agregar la tarea-->
    <button id='taskAddition'>Agregar Tarea</button>


    <!--Creamos una lista a la que luego añadiremos otros nodos-->
    <ul id=todoList></ul>

    <script type='text/javascript'>
        var paragraph = document.getElementsByTagName('p');

        paragraph[0].style.color = 'blue';
        paragraph[0].style.backgroundColor = 'yellow';
        paragraph[0].style.fontSize = '40px';

        //Creamos una variable que contiene la lista que vamos a incluir
        var tasks = [
            'Elemento1',
            'Elemento2',
            'Elemento3',
        ];

        var todoList = document.querySelector('#todoList');

        function taskAdittion(task, id) {
            //Crea una variable con el nombre de la etiqueta
            var li = document.createElement('li');

            //A la variable de la etiqueta le asignamos el contenido
            li.textContent = task;

            if (id) {
                li.id = id;
            }

            //Añade el elemento creado al listado creado inicialmente
            todoList.appendChild(li);
        }

        //Recorremos la variable y accedemos a su contenidos para crear la lista inicial
        for (let index = 0; index < tasks.length; index++) {
            var task = tasks[index];
            taskAdittion(task, 'item' + index);
        }

        var buttonAddition = document.getElementById('taskAddition');
        buttonAddition.addEventListener('click', function () {
            var todoValue = document.getElementById('todoTitle').value;
            taskAdittion(todoValue);
        });
    </script>
</body>

</html>